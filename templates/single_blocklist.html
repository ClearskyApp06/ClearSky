{% extends "base.html" %}

{% block content %}
    <div id="block-list-container">
        <div id="block-list">
            <h1>Block List</h1>
            <h2 id="user-heading">{{ user }}</h2>
            <h3 id="block-count">Users blocking this account: {{ count }}</h3>
            <table>
                <tr>
                    <th class="handle">Handle</th>
                    <th class="date">Date</th>
                </tr>
                {% for user, date in blocklist %}
                <tr>
                    <td class="handle"><a href="https://bsky.app/profile/{{ user }}" target="_blank">{{ user }}</a></td>
                    <td class="date">{{ date }}</td>
                </tr>
                {% endfor %}
            </table>

            <!-- Pagination controls -->
            <div class="pagination">
                {% if page > 1 %}
                    <a href="{{ url_for('single_blocklist', identifier=identifier, page=page-1, from='previous') }}" class="prev">Previous</a>
                {% endif %}
                {% if more_data_available %}
                    <a href="{{ url_for('single_blocklist', identifier=identifier, page=page+1, from='next') }}" class="next">Next</a>
                {% endif %}
            </div>
        </div>
        <a href="/" class="btn btn-primary" id="go-back-button">Go Back</a>
    </div>
{% endblock %}
